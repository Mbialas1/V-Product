<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Shopping cart</title>
</head>
<body>
  <form>
    <div class="addProduct">
      <span>
        Category: <select (change)="getProductsFromCategory($event)" [(ngModel)]="selectedCategory" name="selectedCategory">
          <option disabled selected value></option>
          <option *ngFor="let category of categories" [ngValue]="category">{{category.name}}</option>
        </select>
      </span>
      <span>
        Product: <select [(ngModel)]="selectedProduct" name="selectedProduct">
          <option disabled selected value></option>
          <option *ngFor="let product of products" [ngValue]="product">{{product.name}}</option>
        </select>
      </span>
      <button type="button" (click)="AddProductToList()">Add</button>
    </div>
    <br />
    <ul *ngIf="productsInShoppingCart.length > 0">
      <li *ngFor="let product of productsInShoppingCart; trackBy: trackByAddProduct;">
      <p>{{product.product?.name}} [{{product.category?.name}}] - {{product.product?.calories}} cal - {{product.product?.price}} z≈Ç</p>
      </li>
    </ul>
    <p>Calories: {{sumCalories}}</p>
    <p>Amount: {{amount.toFixed(2)}}</p>
    <button type="submit">Accept shopping cart</button>
  </form>
</body>
</html>
